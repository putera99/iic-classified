<tagLib name="mkrtags" />
<!--  功能操作区域  -->

<table width="100%" cellpadding="0" cellspacing="0" >
  <tr>
    <td width="60%">
	    <span><input type="button"  onclick="add()" class="button1" title="增加数据" value="增加数据" /> </span>
	    <span><input type="button"  onclick="edit()" class="button1" title="编辑数据" value="编辑数据" /> </span>
	    <span><input type="button"  onclick="view()" class="button1" title="查看详细数据" value="查看详细" /> </span>
	    <span><input type="button"  onclick="del()" class="button1" title="删除数据" value="删除数据" /> </span>
	    
		    <span>
			    <input type="button"  onclick="display('searchbox')" class="button1" title="搜索数据" value="搜索数据▼" />
			    <div class="searchbox" id="searchbox" style="display:none">
			        <table cellpadding="0" cellspacing="0">
			          <tr>
			            <td class="ewTableHeader">关键词:</td>
			            <td class="ewTableAltRow"><input id="searchkey" type="text"  name="searchkey"  value="{$searchkey}" /></td>
			          </tr>
			          <tr>
			          	<td class="ewTableHeader">条件:</td>
			            <td class="ewTableAltRow"><mkrtags:radio id="searchtype" name="searchtype"  outtable="Array" value="$searchtype" outfield="AND,OR" outkey="AND,OR" /></td>
			          </tr>
			          <tr>
			            <td colspan="2"  class="ewTableAltRow">
			            <input type="submit"   class="button1" value="搜索" />
			            <input type="button" name="delete" onclick="location.href='__URL__/index/'" class="button1" value="清空" />
			            </td>
			          </tr>
			        </table>
			    </div>
		    </span>
	    
		<span><input type="button"  onclick="location.reload();" class="button1" title="刷新数据" value="刷新数据" /> </span>
    </td>
  </tr>
</table>
<!-- 功能操作区域结束 -->
<!-- Myhtml 系统列表组件开始 -->
<table id="Pm_List" class="list">
  <tr class="row">
    <th width="8">
		<input type="checkbox" id="check" onclick="CheckAll('Pm_List')">
    </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','touid','<php> echo getsorttype('touid');</php>','Pm_Grid')"  title="按照发送者ID排序">发送者ID
      <php> echo getsorttype('touid',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','xid','<php> echo getsorttype('xid');</php>','Pm_Grid')"  title="按照资源ID排序">资源ID
      <php> echo getsorttype('xid',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','itype','<php> echo getsorttype('itype');</php>','Pm_Grid')"  title="按照资源类别排序">资源类别
      <php> echo getsorttype('itype',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','fromuid','<php> echo getsorttype('fromuid');</php>','Pm_Grid')"  title="按照接收方ID排序">接收方ID
      <php> echo getsorttype('fromuid',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','tousername','<php> echo getsorttype('tousername');</php>','Pm_Grid')"  title="按照发送方用户名排序">发送方用户名
      <php> echo getsorttype('tousername',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','type','<php> echo getsorttype('type');</php>','Pm_Grid')"  title="按照信件类别排序">信件类别
      <php> echo getsorttype('type',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','ifnew','<php> echo getsorttype('ifnew');</php>','Pm_Grid')"  title="按照是否新排序">是否新
      <php> echo getsorttype('ifnew',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','title','<php> echo getsorttype('title');</php>','Pm_Grid')"  title="按照标题排序">标题
      <php> echo getsorttype('title',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','ctime','<php> echo getsorttype('ctime');</php>','Pm_Grid')"  title="按照发送时间排序">发送时间
      <php> echo getsorttype('ctime',1);</php>
      </a> </th>
    
    <th> <a class="titleth" href="javascript:AjaxSortBy('Pm','ajaxlist','content','<php> echo getsorttype('content');</php>','Pm_Grid')"  title="按照内容排序">内容
      <php> echo getsorttype('content',1);</php>
      </a> </th>
    
    <th >操作区域</th>
  </tr>
  <php> if(isset($list)): </php>
  <php> $i = 0; </php>
  <php> if( count($list)==0 ) echo "" </php>
  <php> foreach($list as $key=>$list): </php>
  <php> ++$i;</php>
  <php> $mod = (($i % 2 )==0)</php>
  <php> if(($key%2)==0){ $tablesclass="ewTableAltRow";} else { $tablesclass="ewTableRow";} </php>
  <tr class="{$tablesclass}" onmouseover="ew_mouseover(this);" onmouseout="ew_mouseout(this);" onclick="ew_click(this);"  >
    <td><input type="checkbox" name="key"	value="{$list.id}"></td>
    
    <td title="发送者ID"> <mkrtags:text id="touid" name="touid"  value="$list['touid']"/> </td>
    
    <td title="资源ID"> <mkrtags:text id="xid" name="xid"  value="$list['xid']"/> </td>
    
    <td title="资源类别"> <mkrtags:text id="itype" name="itype"  value="$list['itype']"/> </td>
    
    <td title="接收方ID"> <mkrtags:text id="fromuid" name="fromuid"  value="$list['fromuid']"/> </td>
    
    <td title="发送方用户名"> <mkrtags:text id="tousername" name="tousername"  value="$list['tousername']"/> </td>
    
    <td title="信件类别"> <mkrtags:text id="type" name="type"  value="$list['type']"/> </td>
    
    <td title="是否新"> <mkrtags:text id="ifnew" name="ifnew"  value="$list['ifnew']"/> </td>
    
    <td title="标题"> <mkrtags:text id="title" name="title"  value="$list['title']"/> </td>
    
    <td title="发送时间"> <mkrtags:text id="ctime" name="ctime"  value="$list['ctime']"/> </td>
    
    <td title="内容"> <mkrtags:text id="content" name="content"  value="$list['content']"/> </td>
    
    <td>
    	<a href="javascript:edit('{$list.id}')" title="编辑本信息">编辑</a>
     	<a href="javascript:del('{$list.id}')" title="删除本信息">删除</a>
     	<a href="javascript:view('{$list.id}')" title="查看详细信息">详细</a>
    </td>
  </tr>
  <php> endforeach; </php>
  <php> endif; </php>
</table>
<!--Myhtml系统列表组件结束 -->
<!--  分页显示区域 -->
<div class="page">
  <table width="100%">
    <tr>
      <td align="left"></td>
      <td align="right">{$page}</td>
    </tr>
  </table>
</div>
<!--  分页显示区域结束 -->
